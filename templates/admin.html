{% extends "base.html" %}

{% block title %}Panel de Administrador - Club de PÃ¡del{% endblock %}

{% block content %}
<div class="welcome">
    <h1>âš™ï¸ Panel de Administrador</h1>
    <p style="color: #666; margin-top: 10px;">GestiÃ³n de usuarios del club</p>
</div>

<div style="margin-bottom: 20px;">
    <a href="{{ url_for('dashboard') }}" style="color: #667eea; text-decoration: none; font-weight: 600;">
        â† Volver al Dashboard
    </a>
</div>

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
    <h3 style="color: #333; margin-bottom: 15px;">ğŸ“Š EstadÃ­sticas</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
        <div style="background: white; padding: 15px; border-radius: 5px; text-align: center;">
            <div style="font-size: 32px; font-weight: 700; color: #667eea;">{{ usuarios|length }}</div>
            <div style="color: #666; margin-top: 5px;">Usuarios totales</div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 5px; text-align: center;">
            <div style="font-size: 32px; font-weight: 700; color: #28a745;">{{ usuarios|selectattr('es_admin')|list|length }}</div>
            <div style="color: #666; margin-top: 5px;">Administradores</div>
        </div>
    </div>
</div>

<div style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background: #667eea; color: white;">
                <th style="padding: 15px; text-align: left;">Nombre</th>
                <th style="padding: 15px; text-align: left;">Email</th>
                <th style="padding: 15px; text-align: left;">Rol</th>
                <th style="padding: 15px; text-align: left;">Fecha registro</th>
            </tr>
        </thead>
        <tbody>
            {% for usuario in usuarios %}
            <tr style="border-bottom: 1px solid #dee2e6;">
                <td style="padding: 15px;">
                    <strong>{{ usuario.nombre }}</strong>
                </td>
                <td style="padding: 15px; color: #666;">
                    {{ usuario.email }}
                </td>
                <td style="padding: 15px;">
                    {% if usuario.es_admin %}
                        <span style="background: #ffc107; color: #000; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">
                            âš™ï¸ ADMIN
                        </span>
                    {% else %}
                        <span style="background: #e9ecef; color: #666; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">
                            ğŸ‘¤ Usuario
                        </span>
                    {% endif %}
                </td>
                <td style="padding: 15px; color: #666; font-size: 14px;">
                    {{ usuario.fecha_registro.strftime('%d/%m/%Y') }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div style="margin-top: 30px; padding: 15px; background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 5px;">
    <strong style="color: #0c5460;">ğŸ’¡ PrÃ³ximas funcionalidades:</strong>
    <ul style="margin-top: 10px; color: #0c5460; margin-left: 20px;">
        <li>Activar/desactivar usuarios</li>
        <li>Enviar mensajes a usuarios</li>
        <li>Ver estadÃ­sticas detalladas de cada usuario</li>
        <li>Gestionar contenido general del club</li>
    </ul>
</div>

<form action="{{ url_for('logout') }}" method="get" style="margin-top: 20px;">
    <button type="submit" class="logout-btn">Cerrar SesiÃ³n</button>
</form>
{% endblock %}
